# Тестовый сервер с автомобилями для тестового задания

Простой тестовый сервер с 2 запросами, реализован на Go с использованием фреймворка Fiber.

## Установка
### Без Docker
1. Установите `Go 1.24.11` 
2. Установите зависимости
   ```bash
   go mod tidy
   ```
3. Запустите сервер
   ```bash
    go run main.go
    ```
### С Docker
1. Соберите Docker образ
   ```bash
   docker build -t cars-api-test .
   ```
2. Запустите контейнер
   ```bash
   docker run --name cars-api-test-server -p 8081:8081 cars-api-test
    ```

## Запросы
###Изменить настройки вывода автомобилей
- Метод: `POST`
- URL: `/values/set`
- Описание: позволяет изменить количество машин и количество обновлённых машин в ответе на запрос получения списка автомобилей 
- Параметры:
  - `count` (необязательный, integer) - количество машин в ответе
  - `updated` (необязательный, integer) - количество обновлённых машин в ответе
  - `versionDays` (необязательный, integer) - на сколько свежее машины будут при обычном запросе (в днях)
  - `bumpDays` (необязательный, integer) - на сколько обновлённые машины будут свежее (в днях)
- Пример ответа:
  ```json
  {
    "bumpDays": 1,
    "count": 200000,
    "updated": 1200,
    "versionDays": 0
  }
  ```

### Получить список автомобилей
- Метод: `GET`
- URL: `/cars`
- Описание: Возвращает список автомобилей
- Параметры: 
  - `count` (необязательный, integer) - переопределяет количество машин в ответе
  - `updated` (необязательный, integer) - переопределяет количество обновлённых машин в ответе
- Пример ответа:
  ```json
  [
    {
        "externalId": "jp-000001",
        "brand": "BMW",
        "model": "X5",
        "year": 1991,
        "price": 1000.1,
        "sourceUpdatedAt": "2025-12-30T00:00:01Z"
    },
    {
        "externalId": "jp-000002",
        "brand": "Toyota",
        "model": "Camry",
        "year": 1992,
        "price": 1000.2,
        "sourceUpdatedAt": "2025-12-30T00:00:02Z"
    }
  ]
  ```